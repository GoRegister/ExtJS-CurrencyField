Ext.define("Ext.common.currency.Display",{extend:"Ext.form.field.Display",alias:"widget.currencydisplay",config:{amount:0,isNote:false,isCoin:false,isDenomination:false,forcePrecision:true,decimalPrecision:2,decimalSeparator:".",allowDecimals:true},fieldStyle:"text-align:right",margin:"0 0 2 0",validator:function(a){if(this.isDenomination===true){return(parseInt(parseInt(a*100)%this.amount)===0)?true:"Number must be a multiple of "+Ext.util.Format.currency((this.amount/100),"£",2)}return true},fixPrecision:function(d){var c=this,b=isNaN(d),a=c.decimalPrecision;if(b||!d){return b?"":d}else{if(!c.allowDecimals||a<=0){a=0}}return parseFloat(Ext.Number.toFixed(parseFloat(d),a))},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},valueToRaw:function(c){var b=this,a=b.decimalSeparator;c=b.parseValue(c);c=b.fixPrecision(c);c=Ext.isNumber(c)?c:parseFloat(String(c).replace(a,"."));if(isNaN(c)){c=""}else{c=b.forcePrecision?c.toFixed(b.decimalPrecision):parseFloat(c);c=String(c).replace(".",a)}return c}});Ext.define("Ext.common.currency.Field",{extend:"Ext.form.field.Number",alias:"widget.currencyfield",config:{amount:0,isNote:false,isCoin:false,isDenomination:false,forcePrecision:true},margin:"5 15",width:115,fieldLabel:"£",labelWidth:40,fieldStyle:"text-align:right",allowBlank:false,allowOnlyWhitespace:false,emptyText:"0",hideTrigger:true,repeatTriggerClick:false,selectOnFocus:true,keyNavEnabled:false,mouseWheelEnabled:false,spinDownEnabled:false,spinUpEnabled:false,allowExponential:false,autoStripChars:true,decimalSeparator:".",validator:function(a){if(this.isDenomination===true){return(parseInt(parseInt(a*100)%this.amount)===0)?true:"Number must be a multiple of "+Ext.util.Format.currency((this.amount/100),"£",2)}return true},valueToRaw:function(c){var b=this,a=b.decimalSeparator;c=b.parseValue(c);c=b.fixPrecision(c);c=Ext.isNumber(c)?c:parseFloat(String(c).replace(a,"."));if(isNaN(c)){c=""}else{c=b.forcePrecision?c.toFixed(b.decimalPrecision):parseFloat(c);c=String(c).replace(".",a)}return c}});